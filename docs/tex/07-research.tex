\chapter{Исследовательская часть}

\section{Примеры работы программы}

На рисунке \ref{img:exm01} представлен результат работы программы на
базовых настройках. На рисунке \ref{img:exm02} и \ref{img:exm03}
представлено полученное изображение футболки с измененным цветом спереди и
сзади соответственно. На рисунке \ref{img:exm04} представлено избражение
ткани, используемое для проведение эксперимента, описанного в
следующем подразделе.
Для изменения параметров модели и режима работы программы используются панели
управления, представленные на рисунках \ref{img:panel01}-\ref{img:panel05}.

\img{7cm}{exm01}{Пример работы программы на настройках по умолчанию}{exm01}

\img{7cm}{exm02}{Полученное изображение футболки: вид спереди}{exm02}

\img{7cm}{exm03}{Полученное избражение футболки: вид сзади}{exm03}

\img{7cm}{exm04}{Изображение используемое при проведении эксперимента}{exm04}

\twoimg{6cm}{panel01}{Панель управления параметрами
ткани}{panel01}{panel02}{Панель управления физикой}{panel02}

\twoimg{6cm}{panel03}{Панель управления освещением}{panel03}{panel04}{Панель
управления режимом работы}{panel04}

\img{10cm}{panel05}{Панель управления камерой}{panel05}

\section{Постановка эксперимента}

\subsection{Описание эксперимета}

Цель эксперимента --- оценка производительности разработанного
алгоритма визуализации ткани при разных количествах точечных масс.

Для получения изображения разработанный алгоритм на каждом шаге вычисляет новое
положение каждой частицы или точечной массы, поэтому с увеличением числа частиц
проводится больше вычислений. С целью определения оптимального числа точечных
масс был проведен эксперимент по поиску зависимости количества кадров в секунду
(Frames Per Second, FPS) от количества частиц.

\subsection{Технические характеристики}

Технические характеристики устройства, на котором выполнялось тестирование:

\begin{itemize}
	\item Операционная система: Manjaro~\cite{manjaro} Linux x86\_64.
	\item Память: 8 GiB.
	\item Процессор: Intel® Core™ i5-8265U~\cite{intel}.
\end{itemize}

Тестирование проводилось на ноутбуке, включенном в сеть электропитания. Во
время тестирования ноутбук был нагружен только встроенными приложениями
окружения, окружением, а также непосредственно системой тестирования.

\subsection{Результаты эксперимента}

Результаты эксперимента приведены в таблице~\ref{tab:01}. На
рисунке~\ref{img:res} представлен график зависимости FPS от количества точечных
масс.

\noindent
\captionsetup{format=hang,justification=raggedright,
              singlelinecheck=off,width=14cm}
\begin{longtable}[Hc]{|l|l|}
\caption{Результаты эксперимета\label{tab:01}}\\
    \hline
    \multicolumn{1}{|c}{\textbf{Количество точечных масс}}
    &
    \multicolumn{1}{|c|}{\textbf{Количество кадров в секунду}}\\
    \hline
    100 & 60 \\
    \hline
    300 & 50 \\
    \hline
    500 & 31 \\
    \hline
    700 & 22 \\
    \hline
    900 & 16 \\
    \hline
    1100 & 13 \\
    \hline
    1300 & 10 \\
    \hline
    1600 & 8 \\
    \hline
    3600 & 5 \\
    \hline
    6400 & 3 \\
    \hline
\end{longtable}

\img{10cm}{graph}{График зависимости FPS от числа точечных
масс}{res}

\subsection*{Вывод}

По результатам эксперимента можно сделать вывод о том, что количество кадров в
секунду экспоненциально уменьшается при увеличении количества точечных масс. Для
человеческого глаза оптимальной является частота~24~кадра в секунду, что
достигается при количестве точечных масс не большем~700. При этом в результате
визуальной оценки можно сделать вывод о том, что при частоте~10-20~кадров в
секунду отдельные изображения все еще неразличимы, наблюдается только замедление
анимации, что говорит о возможности получения реалистичной анимации ткани при
количестве точечных масс до~1300, которого достаточно для построения изображения
футболки, состоящей из~1008~точечных масс.
